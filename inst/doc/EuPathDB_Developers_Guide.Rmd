---
title: "Submitting data to AnnotationHub"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Submitting data to AnnotationHub}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteKeyword{eupathdb, annotations}
  \usepackage[utf8]{inputenc}
---

```{r style, echo=FALSE, results='asis', message=FALSE}
BiocStyle::markdown()
```

## Overview

This tutorial describes how to update the EuPathDB AnnotationHub data for a new EuPathDB
/ Bioconductor release.

## Setup

To begin, edit the file `inst/scripts/config.R` and update the Bioconductor / EupathDB 
version variables:

- `eu_version`
- `bioc_version`

Next, specify which Bioconductor package types you wish to build (orgdb, bsgenome,
etc.), by setting the corresponding switches to `TRUE` or `FALSE`.

```{bash make_stuff, eval=FALSE}
## From the EuPathDB root directory
inst/scripts/make_data.R
## Note that this will take a few days, even if the webservers never fail.
make s3
```

## Other

To keep the package code and documentation up-to-date, you may also want to search
through the package codebase for all instances of earlier EuPathDB/Bioconductor version
numbers and replace them with the most recent versions.


## Caveats

1. Get familiar with makeAnnotationHubMetadata().
2. The most likely sticking point will be mismatches between GenomeInfoDB and
   the species IDs provided by the EuPathDB.
3. When running the `make_data.R` script for a new release, it may be useful to run the
   commands manually and inspect the outputs / any warnings generated. API changes can
   occur between releases leading to unexpected behavior that may got unnoticed,
   otherwise.

## Session Information

```{r}
sessionInfo()
```
